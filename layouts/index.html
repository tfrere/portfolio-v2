{{ define "main" }}
<div class="landing">
  <div class="page__background"></div>
  <div>
    <img class="hidden" id="texture" src="{{ .Site.BaseURL }}/images/grain-gradient.png"/>
    <canvas id="canvas"></canvas>
    <div class="landing__container">
      {{ partial "shape-landing" }}
      <h1>
        <span class="word"><span class="word__content--first">Hello,</span></span>
        <br/>
        <span class="word"><span class="word__content">i'm</span></span>
        <span class="word"><span class="word__content">a</span></span>
        <span class="word"><span class="word__content">French</span></span>
        <br/>
        <span class="landing__container__rectangle"><span class="word white"><span class="word__content">designer</span></span></span>
      </h1>
      <a id="blue" class="nav-link wanna-see-my-work" href="{{ .Site.BaseURL }}projects">
        <span class="wanna-see-my-work__text">Wanna see my work ?</span>
      </a>
        <!-- <img src="https://assets.codepen.io/238916/arrow.svg"/> -->
    </div> 
  </div>
</div>
{{- partial "js.html" . -}}
<script>

(function () {

  var color = "#F38949"; //"rgba(0,0,0,0.04)";
  var margin = 100;
  var numPoints = 32;

  canvas = document.getElementById("canvas");

  var blobInstance = new Blob(canvas, color, numPoints, margin);

  blobInstance.render();
  //   blobInstance.turbulence();

  var timeline = anime.timeline({
    loop: false,
    duration: 400,
  });

  anime.set(".word__content, .word__content--first", {
    translateY: "+=180px",
  });

  anime.set(".wanna-see-my-work", {
    translateY: "+=25px",
    opacity:0
  });

  anime.set(".shape", {
    translateY: "+=50px",
    opacity:0
  });

  anime.set("#canvas", {
    translateY: "+=25px",
    opacity:0
  });

  window.setTimeout(function(){
    $(".landing__container__rectangle").addClass("landing__container__rectangle--active");
  },1200); // 100

   var animation = timeline
    .add({
      targets: ".shape",
      translateY: "-=50px",
      easing: "easeOutQuart",
      opacity:1,
      duration: 450,
      delay:300
    })
    .add({
      targets: "#canvas",
      translateY: "-=25px",
      easing: "easeOutQuart",
      opacity:1,
      duration: 450,
    }, "-=150")
    .add({
      targets: ".word__content--first",
      translateY: "-=180px",
      easing: "easeOutQuart",
      delay: 50,
    }, "-=150")
    .add({
      targets: ".word__content--first",
      delay: 50,
    })
    .add({
      targets: ".word__content",
      translateY: "-=180px",
      easing: "easeOutQuart",
      delay: anime.stagger(50),
    })
    .add({
      targets: ".wanna-see-my-work",
      translateY: "-=25px",
      easing: "easeOutQuart",
      opacity:1,
      delay:350,
      duration:150
    })
})();

</script>
{{ end }}
