{{ define "main" }}
<div class="landing hero page page--with-bottom-border bg-green">
  <div class="page__background"></div>
  <div>
    <canvas id="canvas"></canvas>
    <div class="hero__content container">
      <h1 class="hero__content__title">
        <span class="hero__content__title__word"><span class="hero__content__title__word__content--first">Hello,</span></span>
        <br/>
        <span class="hero__content__title__word"><span class="hero__content__title__word__content">I'm</span></span>
        <span class="hero__content__title__word"><span class="hero__content__title__word__content">a</span></span>
        <span class="hero__content__title__word"><span class="hero__content__title__word__content">French</span></span>
        <br/>
        <span class="hero__content__rectangle"><span class="hero__content__title__word"><span class="typewrite hero__content__title__word__content hero__content__title__word__content--last word__content--special" data-period="4000" skip-first="true" data-type="[ &quot;designer&quot;, &quot;developer&quot;, &quot;artist&quot; ]">designer</span></span></span>
      </h1>
    </div>
    <div class="container">
      <a id="blue" class="nav-link button" href="{{ .Site.BaseURL }}projects">
        <span class="button__content">Wanna see my work ?</span>
      </a>
    </div>
  </div>
</div>
{{- partial "js.html" . -}}
<script>

$(function() {

  // CANVAS

  var color = "white";
  var margin = 50;
  var numPoints = 32;
  var canvas = document.getElementById("canvas");
  var blobInstance = new Blob(canvas, color, numPoints, margin);

  blobInstance.render();

  // ANIMATION 

  var timeline = anime.timeline({ loop: false });
  // var typedWordLength = 0;

  anime.set(".hero__content__title__word__content, .hero__content__title__word__content--first", {
    translateY: "+=180px"
  });

  anime.set(".button, #canvas", {
    opacity: 0
  });

  var animation = timeline
  .add({
    targets: ".hero__content__title__word__content--first",
    delay: 300
  })
  .add({
    targets: "#canvas",
    easing: "linear",
    duration: 250,
    opacity: 1
  })
  .add({
    targets: ".hero__content__title__word__content--first",
    translateY: "-=180px",
    easing: "easeOutExpo",
    duration: 400
  })
  .add({
    targets: ".hero__content__title__word__content--first",
    delay: 250
  })
  .add({
    targets: ".hero__content__title__word__content",
    translateY: "-=180px",
    easing: "easeOutExpo",
    duration: 500,
    delay: (el, i) => 50 * i
  })
  .add({
    targets: ".button",
    opacity: 1,
    easing: "linear",
    duration: 250,
  })
  .add({
    targets: ".hero__content__title__word__content--first",
    delay: 250
  })
  .add({
    targets: ".hero__content__title__word__content--first",
    begin: function () {
      initTypeWritter();
    }
  });

});

</script>
{{ end }}
